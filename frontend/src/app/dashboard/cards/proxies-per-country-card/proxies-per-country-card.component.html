<p-card [styleClass]="styleClass">
  <ng-template pTemplate="header">
    <div class="flex justify-between items-center w-full p-3">
      <h3 class="text-white m-0">{{ title }}</h3>
    </div>
  </ng-template>

  @if (countries.length) {
    <div class="flex flex-col md:flex-row items-center justify-center p-4">
      <div class="w-full md:w-1/3 mb-4 md:mb-0 md:mr-6">
        <ul class="space-y-2">
          @for (c of countries; track c.name) {
            <li class="flex justify-between text-sm text-neutral-300 border-neutral-600 border-b">
              <span class="flex items-center gap-2 mb-1">
                <span class="w-3 h-3 rounded-full" [ngStyle]="c.color ? { 'background-color': c.color } : null"></span>
                {{ c.name }}
              </span>
              <span class="font-medium text-white">{{ c.percentage }}%</span>
            </li>
          }
        </ul>
      </div>

      <div class="w-full md:w-2/3 flex justify-center">
        <p-chart type="pie" [data]="chartData" [options]="chartOptions" class="h-96 w-96"></p-chart>
      </div>
    </div>
  } @else {
    <div class="flex flex-col items-center text-center gap-3 py-12 px-6 text-neutral-400">
      <i class="pi pi-chart-scatter text-3xl text-neutral-600"></i>
      <p class="max-w-xs text-sm">
        We will show where your proxies come from once we have country data to break down.
      </p>
    </div>
  }
</p-card>
